/*!sample-float-stack-layout 11-07-2014 */
function addEvent(a,b,c){a.attachEvent?a.attachEvent("on"+b,function(){c.call(a)}):a.addEventListener&&a.addEventListener(b,c,!1)}function setText(a,b){for(;null!==a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}var DATA=[{hotelName:"Bay Hotel",loc:"Telok Blangah Rd",dist:10,img:"img/bay-hotel.jpg",price:150,dealPrice:150,currency:"$",starRating:1},{hotelName:"Crowne Plaza Hotel",loc:"Changi Airport",dist:20,img:"img/crown-plaza.jpg",price:275,dealPrice:270,currency:"S$",starRating:2},{hotelName:"Dorsett Regency",loc:"New Bridge Rd",dist:3,img:"img/dorset-regency.jpg",price:260,dealPrice:260,currency:"S$",starRating:4},{hotelName:"The Fullerton Hotel Singapore",loc:"Fullerton Square",dist:7,img:"img/fullerton.jpg",price:300,dealPrice:300,currency:"S$",starRating:3},{hotelName:"Link Hotel",loc:"Tiong Bahru Rd",dist:13,img:"img/link-hotel.jpg",price:150,dealPrice:150,currency:"S$",starRating:1},{hotelName:"Marina Bay Sands",loc:"Bayfront Ave",dist:11,img:"img/marina-bay-sands.jpg",price:400,dealPrice:380,currency:"S$",starRating:5},{hotelName:"Singapore Marriott Hotel",loc:"Orchard Rd",dist:11,img:"img/marriott.jpg",price:360,dealPrice:360,currency:"S$",starRating:5},{hotelName:"Raffles Hotel",loc:"Beach Rd",dist:8,img:"img/raffles-hotel.jpg",price:290,dealPrice:290,currency:"S$",starRating:4},{hotelName:"Rendezvous Hotel",loc:"Bras Basah Rd",dist:9,img:"img/rendezvous-hotel.jpg",price:350,dealPrice:350,currency:"S$",starRating:3},{hotelName:"Trader's Hotel",loc:"Cuscaden Rd",dist:12,img:"img/traders-hotel.jpg",price:220,dealPrice:200,currency:"S$",starRating:3}];String.prototype.replaceByOccurence=function(a,b,c){return c>0?this.replace(a,b).replaceByOccurence(a,b,--c):this};var dataRenderer=function(){function a(){for(var a=document.createDocumentFragment(),c=0;c<e.length;c++){var d=e[c],g=b("div","pull-left col-xs-4");g.innerHTML=f.replace("#TITLE#",d.hotelName).replace("#IMGURL#",d.img).replace("#ALT#",d.hotelName).replaceByOccurence(/glyphicon-star-empty/,"glyphicon-star",d.starRating).replace(/#CURRENCY#/g,d.currency).replace("#PRICE#",d.price).replace("#DEALPRICE#",d.dealPrice),a.appendChild(g)}return a.appendChild(b("div","clearfix")),a}function b(a,b){var c=document.createElement(a);return b&&(c.className=b),c}function c(a){for(;a.hasChildNodes();)a.removeChild(a.firstChild);return a}function d(b,d,g,h){e=b.slice(0),f=h,"star_rating"===d?e.sort(function(a,b){return b.starRating-a.starRating}):"dist"===d&&e.sort(function(a,b){return a.dist-b.dist}),c(g).appendChild(a())}var e,f;return{showData:d}}(window);window.onload=function(){var a=document.getElementById("location"),b=document.querySelector(".result-container"),c=document.querySelector(".template").innerHTML;dataRenderer.showData(DATA,a.options[a.selectedIndex].value,b,c),addEvent(a,"change",function(){dataRenderer.showData(DATA,a.options[a.selectedIndex].value,b,c)})};